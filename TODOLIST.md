# TODO List

This is primarily intended as a developer focused project planning list, rather than something to read. I'm making it public because it's easier for me to keep track of if its in the repository, and it still has some value as a 'where CE is going' indicator.

- Bug list / issues to fix
  - Fix homeworlds and other planets with forced useful surface seems to have updated tiles but not updated biomes, causing flood rocks / develop forest to appear despite the UI insisting the tiles are forest already, but the visuals looking more like rocks.
     - This bug appears to be due to forceUsefulSurface not updating biome0, biome1 and biome2
  - Disallow resource transfering from planets under an annex vote
  - battleworld QoL changes
    - port to CP
    - Update in combat to apply to all orbitals that have dps
  - Fix OpenGL error with Dysons
    - Error code seems to be stack overflow?
  - Make automated mining orders able to have a dropoff point in a different system to the asteroids
  - Make it possible to transfer fixed amounts of cargo in lump sums and as recurring per second between cargo sources without using flagships, some kind of automated civillian transporters?
    - Consider adding ore maintenace costs for Dysons once this system is working
  - Look into integrating Dalo's suggested order code for transfering cargo types
  - Fix First planet levels not having any relation to pressure production
    - Ancient empires 'have' to build Lighting Systems like everyone else, except they get the pressure from the disabled resource anyway
    - When Ancient empires expose the molten core of a tier 1 planet, the tier 2 resource added appears disabled, but pressure is produced for it anyway
    - Ancient empires can't level scalable planets beyond level 2
  - To fix in refactor of colonization and development code
    - Prevent Mono AI repeatedly colonising a food planet and then abandoning it (easily reproduced in the mining colony scenario)
    - Make AI idle Motherships/Replicators that aren't building anything go colonise something rather than just sit around being useless
    - Teach AI to deprioritise water/food colonisation if they have built a stockpile of unused ones
    - Teach AI to build outposts to bridge otherwise empty/useless systems
  - AI doesn't seem to weight up the strength of a planet, I should not have been attacked by an Oko ship with 10x less strength than my support around my planet
    - The code looks like it does consider planet support strength, need to investigate further
  - Fix the AI military component being designed around a single `mainWait` and primary factory for building flagships
    - This is probably why the AI seemed to prioritise gates over flagships in an AI game I observed. Fleet building is only done at the main factory, and the Gate FTL code would have been more aggressive in queueing up another build, so it would have effectively blocked the AI from ever getting around to building a flagship, despite having the funds and labor income to do so. Should make it queue up a flagship and put to top priority if it is under attack and vulnerable regardless of what is already building.
    - The AI also has some questionable parameters set for this, making it trying to rebuild fleets larger than it has labor for.
  - Replace the default miner ship with one using the mining hull
  - Make parasite AI do razing at end of a budget cycle not start
  - Teach AI to not put comets on worlds being razed
  - Teach AI to melt ice
  - Teach AI to make most of the constructions by extending the building hint code
  - Provide a benefit for being the most supportive empire on FTL votes when all FTL tech is already unlocked
  - Tweak the Star Children consume planet ability so that you can't almost destroy all your planets and still gain nearly all of the benefits.
    - Perhaps all the max pop should come once the planet gets destroyed?
  - Make the random FTL unlock certain to not unlock the one you get from the vote (no idea what order they currently run in, or how to control the order)
  - Prevent the Star Children from attempting to build buildings on planets they are not allowed to do so, right now the buildings will not go past 0%, but you can still waste money trying.
  - Avoid starting the FTL unlock events after the first passes, rather than auto cancelling them which is distracting.
  - Prevent AI from deliberately researching/building FTL extractors if they don't have any FTL unlocked
    - This hurts the First AI's budget
  - Increase the resolution of the Helium 3 icon to make it clearer
  - Fix visual bug causing Drugs to appear to be filling the Light class requirement for planet levelling when they are not, probably related to dummy resources

- Not planned for any time soon
  - Work out how should implement deep space trading
    - Lighting Systems need to create a mini region around their planet, with the location of the planet being regularly updated
    - However the current region system assumes regions don't move, and has some bookkeeping that it does to make indexing for regions fast
    - Either need a way to create mobile regions or allow planets with Lighting Systems to bypass region based trade logic
  - Colonisation ships similar to Motherships for other races
  - AI code to build orbitals like Outposts and Stations
  - Teach AI to scuttle unneeded FTL income orbitals
  - Prevent dillemas occuring multiple times (not sure what's causing this bug, it's quite rare)
  - Teach Mechanoid AI to use FTL Breeder Reactors
  - StarChildren transfering of pop from Mothership -> Mothership
  - Make Star Children habitats add some kind of control count to their systems, from which orbitals can be made to utilise the control in a way that means the Star Children can't build an infinite number of the things, but allows them to have some unique identity and strengths.
    - Vanilla buildings that Star Children have no equivalents of
      - Megafarms, Hydrogenators, Research Complexes, Mueseums, Labor Storage, Space Elevator
    - Buildings that Star Children already don't need or have alternatives to
      - FTL Storage, Megacities
     - Ideas for new orbitals for Star Children
       - TODO
  - Make autoexplore continue to work after all systems have been visited once (will also split off into own mod or community patch)
  - Consider making carpet bombing able to destroy tiles via the SurfaceGrid's destroyRandomTile method
  - Fix adding local asteroid field not applying asteroid graphics (think this was in community patch already)

- Long term plans
  - Improving the AI
    - Things players can do but AI just doesn't right now
      - Carpet bomb raiding
      - Create stations at all??
      - Attempt to achieve the influence victory themselves??
      - Fling battle stations
      - Use/design Motherships well
      - Mine asteroids for ore
      - Move asteroids and other resources around with tractor beams
      - Create battleworlds
      - Use slipstreams to speed up colony ships
      - Attack enemy territory that doesn't border AI's owned systems
      - Recognise that it can't win a fair 1v1 flagship fight with another empire and instead spam loads of cheap siege ships to attack every system possible at once
      - Carpet bomb enemy planets (especially useful vs Mechanoid)
      - Use the tractor beam on Motherships to drag around an Outpost - hey presto my mothership can always fire its weapons and if the outpost gets shot down the labor cost to build a new one is low enough to queue up immediately
      - Use gates to coordinate surprise attacks on an enemy (the AI is already good at doing rapid attacks with Hyperdrives/Jumpdrives/Fling but gates and slipstreams aren't used as well here)
      - Immediately seek to destroy a player's Senatorial Palace if they start one of the Galatic votes that can achieve the influence victory
